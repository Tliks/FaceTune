# Changelog

## [日本語](./CHANGELOG-jp.md)

## [Unreleased]
### Added

### Changed

### Deprecated

### Removed

### Fixed

### Security

## [0.1.0-beta.14] - 2025-01-09
### Added
- Added an expression lock feature.
  - Newly created templates will now include a menu for expression locking.

### Changed
- In the expression editor, the contents of low-priority Expression Data within the same Expression are now shown as the base.
- Adjusted the UI

## [0.1.0-beta.13] - 2025-01-04
### Changed
- Changed the supported version of NDMF to >=1.9.0

### Fixed
- Fixed a syntax error in package.json

## [0.1.0-beta.12] - 2025-12-30
### Added
- Added a menu in the right-click menu to generate a template with the FX controller contents imported.

### Changed
- Adjusted the UI

### Fixed
- Fixed an issue where real-time preview for the default expression in the template was mistakenly turned off

## [0.1.0-beta.11] - 2025-12-26
### Changed
- Improved Animator Controller import process.
- Localized some console messages.
- Changed supported NDMF version to >=1.9.0.rc.0

### Fixed
- Fixed an issue where FacialShapesEditor was not updating.
- Fixed an issue where specifying multiple parameters as conditions from the Inspector did not work correctly.

## [0.1.0-beta.10] - 2025-08-28
### Fixed
- Fixed an issue where FacialShapesEditor could not be opened.
- Fixed an issue where localization was not loaded during compilation, etc.

## [0.1.0-beta.9] - 2025-08-28
### Added
- Added localization (English/Japanese). `#80`
- SelectedExpressionPreview now supports multi-frame animation.
- Added a feature to the three-dot menu of the FacialStyle component that allows applying facial expressions to the Renderer in EditMode. `#89`
- Added parameters to forcibly disable blinking/lip sync.
  - A menu to control these parameters is now included by default in the template.

### Changed
- Major changes to the Facial Data component specification; renamed to Expression Data component. `#82` `#83` `#84`
  - Previously set expressions may be broken. In that case, please set the Animation Clip to None or reconfigure it.
  - Removed the split between AnimationClip Mode and Manual Mode; now both can be used together with Manual prioritized.
  - This allows handling expressions that are non-destructively edited for only part of the data while keeping the original Clip reference.
  - Animation Clips can now handle animations other than facial expressions, and the Animation Data component has been removed.
  - Only blendshape animations whose target Renderer and path match are now treated as facial expression animations.
  - Added an advanced option to treat all blendshape animations as facial expression animations.
- Improved the behavior of AnimatorControllerImporter.
- Improved the UI.

### Removed
- Animation Data component

### Fixed
- Fixed an issue where results were saved redundantly when saving in FacialShapesEditor.
- Fixed an issue where MenuInstaller would be duplicated when adding controls via menu to the FaceTuneAssistant component. `#86`

## [0.1.0-beta.8] - 2025-08-13
### Changed
- Adjusted FacialShapesEditor.
- Improved the behavior of AnimatorControllerImporter.

### Fixed
- Fixed an issue where the path was executed when the component did not exist.

## [0.1.0-beta.7] - 2025-08-12
### Changed
- Fine-tuned the behavior of the Assistant.
- Changed the default value of ExportFacialDataWindow._addZeroWeight to false.

### Fixed
- Fixed an issue where saving in FacialShapesEditor would cause an "Invalid property to resize array" error.
- Fixed an issue where controls in menus generated by Preset were misaligned.
- Fixed an issue where AnimationClip could not be saved in FacialShapesEditor.

## [0.1.0-beta.6] - 2025-08-10
### Added
- Added transition duration setting for canceller in AdvancedLipSyncSettings.

### Deprecated
- Changed namespaces.
- Changed the isEqual property of the Expression component.
  - isEqual data will be lost.
- Removed the abbreviation "FT" and unified to "FaceTune".

### Fixed
- Fixed a typo in the template Prefab name.
- Fixed an issue in FacialShapesEditor where the display area for selected blendshapes would not scroll.
- Fixed compatibility in MMD Dance World.

## [0.1.0-beta.5] - 2025-08-05
### Added
- Added import function for Animator Controller to `FaceTune Assistant`.
- Specified platform-dependent build behavior.
  - Application to Animator is performed only for VRChat builds; other passes work on all platforms.

### Changed
- Changed the specification for importing Animator Controllers.
  - Expressions are now generated only if blendshapes for facial expressions are included.
  - If both facial animation and non-facial animation are included, `Animation Data` will be generated.
  - The generated `Facial Data` now defaults to Manual Mode.
- When generating patterns from `FaceTune Assistant`, Prefabs are now fully unpacked.

### Removed
- Removed the menu item `GameObject/FaceTune/Import from FX Layer`.
- Removed the FaceMorphFirst pattern.

## [0.1.0-beta.4] - 2025-08-03
### Data for almost all FaceTune components will be lost.

### Added
- Added `FT Expression` and `FT Facial Data`.
  - Replaces `FT Facial Expression`.
  - `FT Facial Data` under the GameObject to which `FT Expression` is attached will be linked.
  - Multiple `FT Facial Data` under the influence of the same `FT Expression` will be merged.
  - In the Hierarchy, the lower ones have higher priority.
- Supports generic animations.
  - Supports multi-frame and loop animations.
- Supports playback of arbitrary animations with `FT Animation Data`.
  - The basic operation is the same as `FT Facial Data`.
  - Allows definitions other than blendshapes for facial expressions.
- Supports Motion Time.
  - Requires setting up multi-frame animations and parameters in `FT Expression`.
- Nested `FT Condition`s now work as AND conditions.
  - When multiple `FT Condition`s are attached to the same GameObject, they continue to work as OR conditions.
- MA MenuItem (Radial) now works as Motion Time.
- Added `FT Facial Style`.
  - Replaces `FT Default Facial Expression` as the component for defining facial features.
  - Applies the defined blendshapes to Expressions with Enable Blending disabled under the attached GameObject.
- Added a menu item to `Assets/FaceTune/SelectedClipsToExclusiveMenu`.
  - Generates an Expression with an exclusive MenuItem condition from multiple selected AnimationClips.
- Added a menu item to `GameObject/FaceTune/Import from FX Layer`.
  - Adds FaceTune settings from the FX layer currently applied to the avatar.
- Added `FT Advanced EyeBlink`.
  - Affects Expressions under the attached GameObject.
  - You can change the animation control for blinking, the content of the animation, and the frequency of blinking.
  - Also, you can use any blendshape as a canceller for interference prevention. It blends with the current expression as the blink progresses.
- Added `FT Advanced LipSync`.
  - Affects Expressions under the attached GameObject.
  - You can use any blendshape as a canceller for interference prevention. It is applied at the start of speech.
- Added blendshape grouping, batch changes, display of affected facial features, and editing functions for AnimationClips to `FacialShapesEditor`.
- Added options to the output function as Animation Clip in the MenuItem of `FT Facial Data`.
- Added a menu item to open `FacialShapesEditor` from `Tools/FaceTune/FacialShapesEditor`.

### Changed
- MA MenuItem (Toggle/Button) now works as an OR condition.
- Expressions not tied to any condition are now allowed.
- Updated Prefab.
- Reduced GC load.
- `FacialShapesEditor` now runs more lightly.
- Changed and fixed the AnimationClip import method.

### Removed
- Removed `FT Facial Expression`.
- Removed `FT Default Facial Expression`.
- Removed `FT Disable Existing Control`.
  - Overwriting blendshapes will be handled by `FT Expression` without additional conditions, so this is obsolete.
  - Properties manipulated by `FT Animation Data` will not be disabled.
- Removed `FT Gesture Smoothing`.

### Fixed
- Fixed an issue where the NDMF Preview was updated every frame.
- Fixed an issue where unnecessary Tracking layers were generated.
- Fixed an issue where the float Parameter Condition was not working correctly.
- Fixed an issue where Tracking Control was not applied correctly when initializing the avatar.
- Fixed an issue where the selected Expression was sometimes not previewed correctly.

## [0.1.0-beta.3] - 2025-06-14
### Changed
- Updated Prefab.
- Changed Undo to be a single event when closing FacialShapesEditor.
- Added support for saving FacialShapesEditor with ctrl/cmd-s.
- Added FacialShapesEditor to DefaultFacialExpressionComponent.

### Fixed
- Fixed an issue where multiple Expressions were not merged correctly.
- Fixed an issue where Undo was not working in some cases.
- Fixed an issue where some meshes were not released.
- Fixed an issue where presets were not working correctly.

## [0.1.0-beta.2] - 2025-06-03
### Fixed
- Fixed an issue where Blending was not working correctly.

## [0.1.0-beta.1] - 2025-06-03
### Added
- Initial release.

## [0.1.0] - 2025-01-01
